---
const { id } = Astro.props; // Example: "G-XXXXXXX"
if (!id) throw new Error("Google Analytics ID is required.");
---

<script is:inline>
  window.addEventListener("load", () => {
    const gaScript = document.createElement("script");
    gaScript.src = `https://www.googletagmanager.com/gtag/js?id=G-KSSCTHQE28`;
    gaScript.async = true;
    document.head.appendChild(gaScript);

    gaScript.onload = () => {
      window.dataLayer = window.dataLayer || [];
      function gtag() { window.dataLayer.push(arguments); }
      gtag("js", new Date());
      gtag("config", 'G-KSSCTHQE28');
    };
  });
</script>
